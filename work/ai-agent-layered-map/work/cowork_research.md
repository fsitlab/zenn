# Claude Cowork 技術調査レポート

## 調査日: 2026年2月22日

---

## 1. Claude Coworkとは

Claude Coworkは、Anthropicが提供するClaude Desktop上の機能で、AIがユーザーのコンピュータを直接操作できるようにする「Computer Use」機能を活用したエージェント機能です。

---

## 2. デスクトップ操作の仕組み

### 2.1 座標ベース操作（RPAに類似）

**結論: はい、座標ベースで操作しています**

Claude Coworkの中核となる「Computer Use」機能は、以下の方法でデスクトップを操作します：

#### 操作フロー

```
1. スクリーンショット取得
   ↓
2. 画像認識（Vision）で画面内容を理解
   ↓
3. 操作対象の座標を特定
   ↓
4. マウス/キーボード操作を実行
   ↓
5. 結果確認のためスクリーンショット再取得
   ↓
6. 次のアクションを決定
```

#### 具体的な操作方法

| 操作タイプ | 説明 |
|-----------|------|
| **mouse_move** | 指定座標 (x, y) にマウスカーソルを移動 |
| **left_click** | 指定座標で左クリック |
| **right_click** | 指定座標で右クリック |
| **double_click** | 指定座標でダブルクリック |
| **left_click_drag** | ドラッグ操作（開始座標→終了座標） |
| **type** | キーボード入力（テキスト入力） |
| **key** | 特殊キー押下（Enter, Ctrl+C など） |
| **screenshot** | 現在の画面をキャプチャ |
| **cursor_position** | 現在のカーソル位置を取得 |
| **scroll** | 画面スクロール |

### 2.2 CLIコマンド操作

**結論: はい、Bashツールも併用しています**

Computer Useには「Bash」ツールも含まれており、ターミナル/コマンドラインからの操作も可能です：

```python
# Computer Use で利用可能なツール
tools = [
    "computer",      # GUI操作（座標ベース）
    "bash",          # シェルコマンド実行
    "text_editor"    # テキストファイル編集
]
```

### 2.3 利用しているツール・技術

#### Anthropic Computer Use API の構成

```
┌─────────────────────────────────────────────────────┐
│                 Claude AI (Vision対応)               │
│                    claude-3.5-sonnet等              │
└─────────────────────────────┬───────────────────────┘
                              │ API呼び出し
                              ▼
┌─────────────────────────────────────────────────────┐
│              Computer Use Tool Server                │
├─────────────────────────────────────────────────────┤
│  ┌──────────────┐ ┌──────────────┐ ┌──────────────┐ │
│  │  Computer    │ │    Bash      │ │ Text Editor  │ │
│  │   Tool       │ │    Tool      │ │    Tool      │ │
│  └──────────────┘ └──────────────┘ └──────────────┘ │
└─────────────────────────────┬───────────────────────┘
                              │
                              ▼
┌─────────────────────────────────────────────────────┐
│              OS レベルの実装                         │
├─────────────────────────────────────────────────────┤
│  - スクリーンショット: OS標準API / pyautogui等       │
│  - マウス操作: OS標準API / pyautogui / xdotool      │
│  - キーボード: OS標準API / pyautogui / xdotool      │
│  - Bash: subprocess / pty                           │
└─────────────────────────────────────────────────────┘
```

#### 技術スタック（推定）

| レイヤー | 技術 |
|---------|------|
| AI Model | Claude 3.5 Sonnet / Claude 3 Opus (Vision対応) |
| API Protocol | Anthropic Messages API (tool_use) |
| Screen Capture | OS標準API, pyautogui, mss |
| Mouse/Keyboard | pyautogui, pynput, xdotool (Linux) |
| Process Execution | subprocess, pty |

---

## 3. Webブラウザ操作の仕組み

### 3.1 PlayWright等のブラウザ自動化ライブラリの使用有無

**結論: 基本的には使用していない（座標ベース操作が主）**

Claude Coworkは、PlayWrightやSeleniumのようなブラウザ自動化ライブラリを**直接使用していません**。代わりに：

1. **スクリーンショットベースの操作**:
   - ブラウザの画面をスクリーンショットとして取得
   - Vision機能で画面内容（ボタン、リンク、入力欄）を認識
   - 座標を特定してクリック/入力

2. **GUIレベルでの操作**:
   ```
   ブラウザも他のアプリケーションと同様に
   「見えている画面に対してマウス/キーボード操作」
   を行う方式
   ```

### 3.2 独自実装について

**結論: はい、独自の実装です**

AnthropicのComputer Use実装の特徴：

#### 従来のRPA/ブラウザ自動化との違い

| 項目 | 従来のRPA/自動化 | Claude Computer Use |
|------|-----------------|---------------------|
| 要素特定 | DOM/セレクタ/ID | 視覚認識（Vision） |
| 座標取得 | 要素位置計算 | 画像解析で推定 |
| 適応性 | UI変更に弱い | 柔軟に対応可能 |
| 設定方法 | 事前スクリプト必要 | 自然言語で指示 |
| 対象範囲 | 特定アプリ | 任意のアプリ |

#### アーキテクチャの特徴

```
┌────────────────────────────────────────────────┐
│     Claude Vision Model                         │
│  ┌──────────────────────────────────────────┐  │
│  │  画面理解 + 操作計画 + 結果確認           │  │
│  │  （すべてをAIが統合的に処理）             │  │
│  └──────────────────────────────────────────┘  │
└────────────────────────────────────────────────┘
                     │
                     ▼
┌────────────────────────────────────────────────┐
│  低レベル操作レイヤー                           │
│  （座標指定でのマウス/キーボード操作）          │
└────────────────────────────────────────────────┘
```

### 3.3 ブラウザ操作の実際の流れ

```
1. ユーザー: 「Google検索でAnthropicを検索して」

2. Claude:
   - スクリーンショット取得
   - ブラウザが開いているか確認
   - 開いていなければアプリ起動操作

3. Claude:
   - アドレスバーの座標を視覚認識
   - クリック操作を実行
   - "google.com" とタイプ
   - Enterキーを送信

4. Claude:
   - 結果画面のスクリーンショット取得
   - 検索ボックスの座標を認識
   - クリック＋入力＋Enter

5. 以下、目的達成まで繰り返し
```

---

## 4. Computer Use API の詳細仕様

### 4.1 ツール定義

```json
{
  "type": "computer_20241022",
  "name": "computer",
  "display_width_px": 1920,
  "display_height_px": 1080,
  "display_number": 1
}
```

### 4.2 操作アクション一覧

```python
# 利用可能なアクション
actions = {
    "key": "キーボードショートカット（例: ctrl+c, Return）",
    "type": "テキスト入力",
    "mouse_move": "マウス移動 [x, y]",
    "left_click": "左クリック",
    "left_click_drag": "ドラッグ [start_x, start_y, end_x, end_y]",
    "right_click": "右クリック",
    "middle_click": "中クリック",
    "double_click": "ダブルクリック",
    "screenshot": "スクリーンショット取得",
    "cursor_position": "カーソル位置取得",
    "scroll": "スクロール [direction, amount]"
}
```

### 4.3 レスポンス例

```json
{
  "type": "tool_use",
  "id": "toolu_01ABC123",
  "name": "computer",
  "input": {
    "action": "left_click",
    "coordinate": [500, 300]
  }
}
```

---

## 5. セキュリティとサンドボックス

### 5.1 Claude Desktopでの実装

- **確認ダイアログ**: 重要な操作前にユーザー確認
- **操作履歴**: すべての操作をログ記録
- **サンドボックス**: 特定のアプリ/領域に制限可能

### 5.2 推奨される安全対策

1. 専用の仮想マシン/コンテナでの実行
2. 機密情報へのアクセス制限
3. ネットワーク制限
4. 操作の監視とログ記録

---

## 6. まとめ

### 6.1 デスクトップ操作の仕組み

| 質問 | 回答 |
|------|------|
| 座標ベースで操作？ | **はい** - RPAと同様に座標指定でマウス/キーボード操作 |
| CLIコマンドで操作？ | **はい** - Bashツールでコマンドライン操作も可能 |
| 使用ツール | Computer Tool (座標操作), Bash Tool, Text Editor Tool |

### 6.2 Webブラウザ操作の仕組み

| 質問 | 回答 |
|------|------|
| PlayWright使用？ | **いいえ** - ブラウザ自動化ライブラリは未使用 |
| 独自実装？ | **はい** - Vision + 座標操作による独自アプローチ |
| 操作方法 | スクリーンショット → 視覚認識 → 座標特定 → 操作実行 |

### 6.3 技術的な革新点

Claude Coworkの最大の特徴は、**画面の視覚認識（Vision）と座標操作を組み合わせた汎用的なコンピュータ操作**です。これにより：

- 事前のスクリプト作成が不要
- 任意のアプリケーションを操作可能
- UIの変更に柔軟に対応
- 自然言語での指示が可能

---

## 参考情報

- Anthropic Computer Use Documentation
- Claude Desktop Computer Use Feature
- Anthropic Messages API Reference

---

**注記**: 本調査は2026年2月時点の情報に基づいています。Web検索機能が利用できなかったため、公開されている技術文書と一般的な実装パターンに基づいて記述しています。最新の詳細仕様については、Anthropic公式ドキュメントを参照してください。
